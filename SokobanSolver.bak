
#define THRESHOLD_LIGHTSENSOR 35
#define NEAR 9
#define SPEED -40
#define BLACK 23
task main()
{
     SetSensorLight(IN_1);   // Middle
     SetSensorLight(IN_2);   // Right
     SetSensorLight(IN_3);   // Left
     SetSensorUltrasonic(IN_4);// UltraSonicSensor
     while(true){
          if(SENSOR_1 < THRESHOLD_LIGHTSENSOR){
              OnFwd(OUT_A, SPEED);
              OnFwd(OUT_B, SPEED-20);
          }
          else{
              Off(OUT_B, SPEED);
              OnFwd(OUT_A, SPEED-20);
          }
          TextOut(1,53, NumToStr(SENSOR_1) + "            ");

          if(SENSOR_3 < BLACK){
              TextOut(1,1, "LEFT LightSensor Black");
          }
          else{
              TextOut(1,1, "                       ");
          }
          
          if(SENSOR_2 < BLACK){
              TextOut(1,15, "RIGHT LightSensor Black");
          }
          else{
              TextOut(1,15, "                       ");
          }
          
          TextOut(1,45, NumToStr(SensorUS(IN_4)) + "            ");

          //while(SensorUS(IN_4)>NEAR);


          if(SensorUS(IN_4)<=NEAR){
               TextOut(1,30, "Have a can  ");
          }
          else{
               TextOut(1,30, "                       ");
          }

          
          
     }
}

void forwardUntilCrossing()
{


}

void crossing(int direction){

     if(direction == 1 ){
      // Turn to the RIGHT
      RotateMotorEx(OUT_AB, 75, 360, 50, true, true);
     }
     
     if(direction == 0){
      // Go on straight forward
     }

     if(direction == 2){
      // Turn to the LEFT
      RotateMotorEx(OUT_AB, 75, -360, 50, true, true);
     }
}


